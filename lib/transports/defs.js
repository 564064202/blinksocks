'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Outbound=exports.Inbound=undefined;var _events=require('events');var _events2=_interopRequireDefault(_events);var _core=require('../core');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class Bound extends _events2.default{constructor({remoteInfo}){super();this._remoteInfo=null;this._remoteInfo=remoteInfo}get remoteHost(){return this._remoteInfo.host}get remotePort(){return this._remoteInfo.port}get remote(){return`${this.remoteHost}:${this.remotePort}`}get bufferSize(){return 0}get writable(){return true}onBroadcast(){}write(buffer){}destroy(){}updatePresets(value){}}class Inbound extends Bound{constructor(props){super(props);this._outbound=null;this._pipe=null;this._pipe=props.pipe}setOutbound(outbound){this._outbound=outbound}broadcast(action){!this._pipe.destroyed&&this._pipe.broadcast('pipe',action)}}exports.Inbound=Inbound;class Outbound extends Bound{constructor(props){super(props);this._inbound=null;this._pipe=null;this._dnsCache=null;this._pipe=props.pipe;this._dnsCache=new _core.DNSCache({expire:__DNS_EXPIRE__})}setInbound(inbound){this._inbound=inbound}broadcast(action){!this._pipe.destroyed&&this._pipe.broadcast('pipe',action)}}exports.Outbound=Outbound;