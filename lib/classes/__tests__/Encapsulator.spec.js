'use strict';var _Encapsulator=require('../Encapsulator');var _Frame=require('../Frame');var _Address=require('../Address');var _Constants=require('../../socks5/Constants');describe('Encapsulator#numberToArray',function(){it('should return [0x01, 0x01] when pass 257',function(){expect(_Encapsulator.Encapsulator.numberToArray(257)).toEqual([1,1])})});describe('Encapsulator#pack',function(){it('should return the expected frame',function(){var frame=_Encapsulator.Encapsulator.pack(new _Address.Address,[255,255]);expect(frame).toBeInstanceOf(_Frame.Frame);var frame2=_Encapsulator.Encapsulator.pack(new _Address.Address({ATYP:_Constants.ATYP_DOMAIN}),[255,255]);expect(frame2).toBeInstanceOf(_Frame.Frame);expect(frame2.LEN).toEqual([0,12]);expect(frame2.ATYP).toBe(_Constants.ATYP_DOMAIN);expect(frame2.DSTADDR).toEqual([4,0,0,0,0]);expect(frame2.DSTPORT).toEqual([0,0]);expect(frame2.DATA).toEqual([255,255])})});describe('Encapsulator#unpack',function(){it('should return the expected frame',function(){var frame=_Encapsulator.Encapsulator.unpack([0,9,1,0,0,0,0,255,255]);expect(frame).toBeInstanceOf(_Frame.Frame)})});