'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Tracer=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _fs=require('fs');var _fs2=_interopRequireDefault(_fs);var _path=require('path');var _path2=_interopRequireDefault(_path);var _log4js=require('log4js');var _log4js2=_interopRequireDefault(_log4js);var _Config=require('../Config');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var Logger=_log4js2.default.getLogger('Tracer');function root(dir){if(_Config.Config.isServer){return _path2.default.resolve(__dirname,'../../../debug/server',dir)}else{return _path2.default.resolve(__dirname,'../../../debug/client',dir)}}var Tracer=exports.Tracer=function(){function Tracer(){_classCallCheck(this,Tracer)}_createClass(Tracer,null,[{key:'dump',value:function dump(description,buffer){Logger.setLevel(_Config.Config.log_level);var date=new Date;var timestamp=[date.getHours()+':'+date.getMinutes()+':'+date.getSeconds()+'.'+date.getMilliseconds()].join('');var filename=buffer.length+'-'+description+'-'+timestamp;_fs2.default.writeFile(root(filename),buffer,function(err){if(err){Logger.error(err)}})}}]);return Tracer}();