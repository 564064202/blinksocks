'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Encapsulator=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Frame=require('../Frame');var _utils=require('../../utils');var _common=require('../../proxies/common');function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var Encapsulator=exports.Encapsulator=function(){function Encapsulator(){_classCallCheck(this,Encapsulator)}_createClass(Encapsulator,null,[{key:'pack',value:function pack(address,data){var ATYP=address.ATYP,DSTADDR=address.DSTADDR,DSTPORT=address.DSTPORT;var len=3+DSTADDR.length+DSTPORT.length+data.length;var addr=null;if(ATYP===_common.ATYP_DOMAIN){len+=1;addr=[DSTADDR.length].concat(_toConsumableArray(DSTADDR))}else{addr=DSTADDR}return new _Frame.Frame({LEN:_utils.Utils.numberToArray(len),ATYP:ATYP,DSTADDR:addr,DSTPORT:DSTPORT,DATA:data})}},{key:'unpack',value:function unpack(buffer){return _Frame.Frame.parse(buffer)}}]);return Encapsulator}();