'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Utils=exports.BYTE_ORDER_LE=exports.BYTE_ORDER_BE=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _net=require('net');var _net2=_interopRequireDefault(_net);var _url=require('url');var _url2=_interopRequireDefault(_url);var _common=require('../proxies/common');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var BYTE_ORDER_BE=exports.BYTE_ORDER_BE=0;var BYTE_ORDER_LE=exports.BYTE_ORDER_LE=1;var Utils=exports.Utils=function(){function Utils(){_classCallCheck(this,Utils)}_createClass(Utils,null,[{key:'numberToUInt',value:function numberToUInt(num){var len=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var byteOrder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BYTE_ORDER_BE;if(len<1){throw Error('len must be greater than 0')}var isOutOfRange=num>parseInt('0x'+'ff'.repeat(len));if(isOutOfRange){throw Error('Number '+num+' is too long to store in a \''+len+'\' length buffer')}var buf=Buffer.alloc(len);if(byteOrder===BYTE_ORDER_BE){buf.writeUIntBE(num,0,len)}else{buf.writeUIntLE(num,0,len)}return buf}},{key:'parseURI',value:function parseURI(uri){var _uri=uri;if(_uri.indexOf('http')!==0&&_uri.indexOf('https')!==0){if(_uri.indexOf(':443')!==-1){_uri='https://'+_uri}else{_uri='http://'+_uri}}var _url$parse=_url2.default.parse(_uri),protocol=_url$parse.protocol,hostname=_url$parse.hostname;var isIp=_net2.default.isIP(hostname);var addrType=isIp?_net2.default.isIPv4(hostname)?_common.ATYP_V4:_common.ATYP_V6:_common.ATYP_DOMAIN;var port={'http:':80,'https:':443}[protocol];return{type:addrType,host:hostname,port:port}}},{key:'getRandomInt',value:function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min))+min}},{key:'isValidPort',value:function isValidPort(port){if(typeof port!=='number'){return false}if(port<0||port>65535){return false}return true}}]);return Utils}();